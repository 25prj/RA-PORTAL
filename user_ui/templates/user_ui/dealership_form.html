{% extends 'core/base.html' %}

{% block content %}

<body class="bg-gray-100">
    <!-- Full-Width Header -->
    <header class="bg-sky-700  text-white py-8 w-full -mt-4">
        <div class="container mx-auto text-center">
            <h1 class="text-4xl font-bold uppercase">DEALERSHIP LICENCE</h1>
            <p class="mt-4 text-lg">Fill the form below to apply for your dealership licence certificate</p>
        </div>
    </header>

    

<div class="min-h-screen bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
    <div class="max-w-6xl mx-auto">
        <!-- Progress Bar -->
    <div class="mb-8">
      <h2 class="text-2xl font-bold text-gray-800 mb-6 text-center">Type Approval Application</h2>
      <div class="flex items-center justify-between mb-2">
        {% for i in '12345678' %}
          <div class="flex flex-col items-center">
            <div class="w-10 h-10 rounded-full flex items-center justify-center 
              {% if i == step %}bg-blue-600 text-white
              {% elif i < step %}bg-green-500 text-white
              {% else %}bg-gray-200 text-gray-600{% endif %}">
              {{ i }}
            </div>
            <span class="text-xs mt-1 text-gray-600">
              {% if i == '1' %}Service Options
              {% elif i == '2' %}Corporation Profile
              {% elif i == '3'%}Contact Info 
              {% elif i == '4'%}Ownership
              {% elif i == '5'%}Directors
              {% elif i == '6'%}Evidence
              {% elif i == '7'%}Business
              {% elif i == '8'%}
              {% else %}Approval Details{% endif %}
            </span>
          </div>
          {% if not forloop.last %}
            <div class="flex-1 h-1 mx-2 {% if i < step %}bg-green-500{% else %}bg-gray-200{% endif %}"></div>
          {% endif %}
        {% endfor %}
      </div>
    </div>

        <!-- Form Container -->
        <div class="bg-white shadow rounded-lg p-6 sm:p-8">
            <form method="POST"enctype='multipart/form-data'class="space-y-6">
                {% csrf_token %}
                <input type="hidden" name="step" value="{{ step }}">

                <!-- Step 1: Service Options -->
                {% if step == '1' %}
                    <div>
                        <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">Section A1: SERVICE OPTIONS </h3>
                        <div class=" space-y-2 sm:grid-cols-6">

                            <div>
                                <div class='mb-4'>
                                    <h1 class='font-bold text-lg'>CLASS A</h1>
                                    <P class='wrap-break-word mt-4 mb-2'>– Importation and/or sales/distribution, installation, repairs and maintenance of fixed line phones, mobile and fixed cellular phones, fax machines, low power cordless phones, tablets internet modems, computers, TVRO (free on Air), any other terminal equipment to be connected to the public network, PABX with capacity of up to 50 lines and all necessary accessories.</P>
                                </div>
                                <div class='mb-4'>
                                    <h1 class='font-bold text-lg '>CLASS B</h1>
                                    <P class='wrap-break-word mt-4 mb-2'>– Importation and/or sales/distribution, installation, repairs and maintenance of fixed line phones, mobile and fixed cellular phones, fax machines, low power cordless phones, tablets internet modems, computers, TVRO (free on Air), any other terminal equipment to be connected to the public network, PABX with capacity of up to 50 lines and all necessary accessories.</P>
                                </div>
                                <div class='mb-4'>
                                    <h1 class='font-bold text-lg'>CLASS C</h1>
                                    <P class='wrap-break-word mt-4 mb-2'>– Importation and/or sales/distribution, installation, repairs and maintenance of fixed line phones, mobile and fixed cellular phones, fax machines, low power cordless phones, tablets internet modems, computers, TVRO (free on Air), any other terminal equipment to be connected to the public network, PABX with capacity of up to 50 lines and all necessary accessories.</P>
                                </div>
                                <div class='mb-4'>
                                    <h1 class='font-bold text-lg'>CLASS D</h1>
                                    <P class='wrap-break-word mt-4 mb-2'>– Importation and/or sales/distribution, installation, repairs and maintenance of fixed line phones, mobile and fixed cellular phones, fax machines, low power cordless phones, tablets internet modems, computers, TVRO (free on Air), any other terminal equipment to be connected to the public network, PABX with capacity of up to 50 lines and all necessary accessories.</P>
                                </div>
                            </div>
                            <!--radio buttons-->
                            <div>
                                 <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl mt-4">Section 1B: Please list only the equipment and/or services you intend to provide </h3>
                                 <p class="text-gray-800 font-bold text-center mb-4">NOTE: Please ensure that you deal in only type approved Electronic Communications equipment and accessories</p>
                                <h2 class="text-lg font-semibold mb-4 text-center">Please tick the service for which licence is sought.</h2>
                                <div class='border-2 border-dashed rounded-md  p-1.5'>
                                    {{form.cls_options}}
                                </div>
                            </div>
                            <!--list equipments text area-->
                            <div class="bg-white p-6 rounded-lg shadow-md w-150 text-center mt-4">
                                 <h2 class="text-lg font-semibold mb-4">List of Equipment/Services</h2>
                                {{form.equipments}}
                            </div>
                            </div>
                    </div>
                {% endif %}

                <!-- Step 2:  corporate profile-->
                {% if step == '2' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 2: CORPORATE PROFILE</h3>
                <div class="grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6">
                    {% for field in form %}
                    <div class="sm:col-span-3">
                    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
                        {{ field.label }}
                    </label>
                    <div class="mt-1">
                        {{ field }}
                        {% if field.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ field.errors|join:", " }}</p>
                        {% endif %}
                    </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                {% endif %}

                <!-- Step 3: contact information -->
                {% if step == '3' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 3: CONTACT INFORMATION</h3>
                <div class="grid grid-cols-2 gap-4">
                    <div class='col-span-1' >
                        <label for="auth_rep_name">Authorized Representative Name</label>
                        {{form.auth_rep_name}}
                    </div>

                    <div class='col-span-1'>
                        <label for="auth_rep_tele_num">Authorized Representative Telephone Number</label>
                        {{form.auth_rep_tele_num}}

                        {% if form.auth_rep_tele_num.errors %}
                            <p class="mt-1 text-sm text-red-600">{{ form.auth_rep_tele_num.errors|first }}</p>
                        {% endif %}
                    </div>

                    <div class='col-span-1'>
                        <label for="email">Email</label>
                        {{form.email}}
                    </div>
                </div>
                </div>
                {% endif %}

                <!-- Step 4: Ownership -->
                {% if step == '4' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 4: OWNERSHIP STRUCTURE</h3>
                <div class="grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6">
                    {% for field in form %}
                    <div class="sm:col-span-3">
                    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
                        {{ field.label }}
                    </label>
                    <div class="mt-1">
                        {{ field }}
                        {% if field.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ field.errors|join:", " }}</p>
                        {% endif %}
                    </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                {% endif %}

                <!-- Step 5: Directors-->
                {% if step == '5' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 5: DIRECTORS</h3>
                <div class="grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6">
                    {% for field in form %}
                    <div class="sm:col-span-3">
                    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
                        {{ field.label }}
                    </label>
                    <div class="mt-1">
                        {{ field }}
                        {% if field.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ field.errors|join:", " }}</p>
                        {% endif %}
                    </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                {% endif %}

                <!-- Step :6 Evidence-->
                {% if step == '6' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 6: EVIDENCE OF COMPANY REGISTRATION</h3>
                <div class="grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6">
                    {% for field in form %}
                    <div class="sm:col-span-3 border-2 border-dashed border-gray-300 rounded-md">
                    <label for="{{ field.id_for_label }}" class="block text-sm p-1 font-medium text-gray-700">
                        {{ field.label }}
                    </label>
                    <div class="mt-1  mb-2 mr-2 ml-2">
                        {{ field }}
                        {% if field.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ field.errors|join:", " }}</p>
                        {% endif %}
                    </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                {% endif %}

                <!-- Step :7 Business-->
                {% if step == '7' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 7: BUSINESS PLAN(Not applicable to Applicants for Class A Licence)</h3>
                <div class="grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6">
                    {% for field in form %}
                    <div class="sm:col-span-3 border-2 border-dashed border-gray-300 rounded-md p-2.5">
                    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
                        {{ field.label }}
                    </label>
                    <div class="mt-1">
                        {{ field }}
                        {% if field.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ field.errors|join:", " }}</p>
                        {% endif %}
                    </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                {% endif %}

                <!-- Step :8 others-->
                {% if step == '8' %}
                <div>
                <h3 class="bg-sky-700 px-6 text-white font-bold mb-6 -mt-4 text-xl">SECTION 8: OTHER NECESSARY INFORMATION</h3>
                <div class="grid grid-cols-1 gap-y-4 gap-x-6 sm:grid-cols-6">
                    {% for field in form %}
                    <div class="sm:col-span-3">
                    <label for="{{ field.id_for_label }}" class="block text-sm font-medium text-gray-700">
                        {{ field.label }}
                    </label>
                    <div class="mt-1">
                        {{ field }}
                        {% if field.errors %}
                        <p class="mt-2 text-sm text-red-600">{{ field.errors|join:", " }}</p>
                        {% endif %}
                    </div>
                    </div>
                    {% endfor %}
                </div>
                </div>
                {% endif %}


                <!-- Navigation Buttons -->
                <div class="flex justify-between pt-6">
                    {% if step != '1' %}
                        <a href="{{ request.path }}?step={{ step|add:'-1' }}" 
                           class="inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Previous
                        </a>
                    {% else %}
                        <div></div>
                    {% endif %}

                    {% if step != total_steps|stringformat:"i" %}
                        <button type="submit" 
                                class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
                            Save and Continue
                        </button>
                    {% else %}
                        <button type="submit" 
                                class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500">
                            Submit Application
                        </button>
                    {% endif %}
                </div>
            </form>
        </div>

        <div class="mt-6 text-center text-sm text-gray-500">
            <p>Need help? <a href="#" class="font-medium text-blue-600 hover:text-blue-500">Contact support</a></p>
        </div>
    </div>
    
</div>
</body>

<style>
    input, select, textarea {
        width: 100%;
        padding: 0.5rem;
        border-radius: 0.375rem;
        border: 1px solid #d1d5db;
        margin-top: 0.25rem;
    }
    input:focus, select:focus, textarea:focus {
        outline: none;
        ring: 2px;
        ring-color: #3b82f6;
        border-color: #3b82f6;
    }
    .errorlist {
        color: #dc2626;
        font-size: 0.875rem;
        margin-top: 0.25rem;
    }
</style>
{% endblock %}